import{P as y}from"./PaginationCp-Cu91aatK.js";import{c as x}from"./cartStore-BqR4YwOw.js";import{_ as k,a as $,c as i,e as a,b as t,n as c,f as l,F as u,r as g,i as p,o as r,g as _,t as f,w}from"./index-BOfdHV1z.js";var A={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david777",BASE_URL:"/vue3-week8",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:V,VITE_APP_PATH:T}=A,L={components:{Pagination:y},data(){return{products:[],pagination:{},categories:["球鞋","慢跑鞋","帆布鞋","滑板鞋"],isLoading:!1}},methods:{...$(x,["addToCart"]),getProducts(o=1){this.isLoading=!0;const{category:h=""}=this.$route.query,m=`${V}/api/${T}/products?category=${h}&page=${o}`;this.$http.get(m).then(s=>{s.data.success&&(this.isLoading=!1,this.products=s.data.products,this.pagination=s.data.pagination)}).catch(s=>{this.$swal("讀取失敗","無法渲染畫面","error")})}},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},mounted(){this.getProducts()}},C=t("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1594882645126-14020914d58d?q=80&w=2000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)","background-position":"center center",opacity:"0.1"}}),t("h2",{class:"fw-bold noto-sans"},"超越極限")],-1),E={class:"container mt-md-5 mt-3 mb-7 noto-sans"},D={class:"row"},q={class:"col-md-3"},U={class:"text-center border border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},B={class:"card border-0"},H={class:"list-group"},M={class:"col-md-9"},N={class:"row"},R={class:"card border-0 mb-4 position-relative position-relative",style:{"box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"}},S=["src"],I={class:"card-body p-0"},j={class:"text-center"},F={class:"mb-0 mt-2 h5"},G={href:"#"},O=t("p",{class:"card-text mb-0 mt-2 mb-2"},[_(" NT$1,080 "),t("span",{class:"text-muted"},[t("del",null,"NT$1,200")])],-1),z=["onClick"],W=t("p",{class:"text-muted mt-3"},null,-1);function Y(o,h,m,s,n,v){const b=p("VueLoading"),d=p("router-link"),P=p("Pagination");return r(),i(u,null,[a(b,{active:n.isLoading},null,8,["active"]),C,t("div",E,[t("div",D,[t("div",q,[t("div",U,[t("div",B,[t("ul",H,[t("li",{class:c(["list-group-item list-group-item-action",{linkActive:!o.$route.query.category}])},[a(d,{to:"/products",class:c(["d-block",{linkActiveColor:!o.$route.query.category}])},{default:l(()=>[_("全部產品")]),_:1},8,["class"])],2),(r(!0),i(u,null,g(n.categories,e=>(r(),i("li",{class:c(["list-group-item list-group-item-action",{linkActive:e===o.$route.query.category}]),key:e},[a(d,{to:`/products?category=${e}`,class:c(["d-block h-100",{linkActiveColor:e===o.$route.query.category}])},{default:l(()=>[_(f(e),1)]),_:2},1032,["to","class"])],2))),128))])])])]),t("div",M,[t("div",N,[(r(!0),i(u,null,g(n.products,e=>(r(),i("div",{class:"col-md-4",key:e.id},[t("div",R,[a(d,{to:`/productdetail/${e.id}`},{default:l(()=>[t("img",{src:e.imageUrl,class:"card-img-top rounded object-fit-cover;",height:"200",alt:"..."},null,8,S),t("div",I,[t("div",j,[t("h4",F,[t("a",G,f(e.title),1)]),O,t("button",{class:"btn btn-primary btn-primary-hover border-0",onClick:w(J=>o.addToCart(e),["prevent"])}," 加入購物車 ",8,z)]),W])]),_:2},1032,["to"])])]))),128))])])])]),a(P,{pages:n.pagination,onUpdatePage:v.getProducts},null,8,["pages","onUpdatePage"])],64)}const Z=k(L,[["render",Y]]);export{Z as default};
