import{i as b,c as v}from"./cartStore-ljz3hO7I.js";import{_ as g,a as f,c as d,e as y,b as t,F as u,r as P,t as i,d as w,v as x,w as V,g as c,i as L,o as l}from"./index-CPAp1LdQ.js";var N={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"david777",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:p,VITE_APP_PATH:_}=N,S={data(){return{product:{},productId:"",selectNumber:1,isLoading:!1,imgState:""}},methods:{...f(v,["getCart"]),getProduct(){this.isLoading=!0;const r=`${p}/api/${_}/product/${this.productId}`;this.$http.get(r).then(e=>{e.data.success&&(this.isLoading=!1,this.product=e.data.product,this.imgState=e.data.product.imagesUrl)}).catch(e=>{})},detailAddCart(r){const e=`${p}/api/${_}/cart`,a={product_id:r.id,qty:this.selectNumber};this.$http.post(e,{data:a}).then(n=>{n.data.success&&(b("成功加入購物車",{theme:"auto",type:"success",autoClose:1500,dangerouslyHTMLString:!0}),this.selectNumber=1,this.getCart())}).catch(n=>{this.$swal("讀取失敗","無法渲染畫面","error")})}},mounted(){this.productId=this.$route.params.id,this.getProduct()}},T={class:"container mt-7 noto-sans"},k={class:"row justify-content-center mt-6"},A={class:"col-md-10"},C={class:"row align-items-center"},E={class:"col-md-7"},D=["src"],I={class:"my-3 row"},U=["src","onClick"],R={class:"col-md-5"},B={class:"fw-bold h1 mb-3"},M={class:"mb-3"},H={class:"mb-0 text-muted text-end"},j={class:"h4 fw-bold text-end"},F={class:"row align-items-center"},O={class:"col-6"},$={class:"input-group my-3 rounded"},q=t("div",{class:"input-group-prepend"},[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1"},[t("i",{class:"fas fa-minus"})])],-1),z=t("div",null,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2"},[t("i",{class:"fas fa-plus"})])],-1),G={class:"col-6"},J=t("div",{class:"border-primary border rounded p-3"},[t("p",null,[c(" 商品配送工作時間："),t("br"),c(" ※ 本商店皆以宅配方式寄出商品，於每次出貨時，寄發出貨通知信，還請多加留意。"),t("br"),c(" ※ 商品配送時間一律為3-7個工作天送達商品。配送時間以每筆訂單完成付款時間開始算起，"),t("br"),c(" 因商品數量有限，需要時間做調度作業，敬請見諒。"),t("br"),c(" ※ 若有特別需求，請於下訂單時備註說明，以利出貨作業。 ")])],-1),K={class:"row my-5"},Q={class:"col-md-4"},W=t("h2",{class:"mb-3"},"商品規格",-1),X={style:{"list-style":"none"},class:"px-0"};function Y(r,e,a,n,s,h){const m=L("VueLoading");return l(),d(u,null,[y(m,{active:s.isLoading},null,8,["active"]),t("div",T,[t("div",k,[t("div",A,[t("div",C,[t("div",E,[t("img",{src:s.imgState,class:"img-fluid"},null,8,D),t("div",I,[(l(!0),d(u,null,P(s.product.imagesUrl,o=>(l(),d("img",{key:o,src:o,onClick:Z=>s.imgState=o,class:"img-fluid object-fit-cover imgSize col-4",style:{height:"80px"}},null,8,U))),128))])]),t("div",R,[t("h2",B,i(s.product.title),1),t("p",M,i(s.product.description),1),t("p",H,[t("del",null,"NT$"+i(s.product.origin_price),1)]),t("p",j,"NT$"+i(s.product.price),1),t("div",F,[t("div",O,[t("div",$,[q,t("div",null,[w(t("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[0]||(e[0]=o=>s.selectNumber=o)},null,512),[[x,s.selectNumber,void 0,{number:!0}]])]),z])]),t("div",G,[t("a",{href:"./checkout.html",class:"text-nowrap btn btn-dark w-100 py-2 btn-primary-hover",onClick:e[1]||(e[1]=V(o=>h.detailAddCart(s.product,s.selectNumber),["prevent"]))},"加入購物車")])])])]),J,t("div",K,[t("div",Q,[W,t("ul",X,[t("li",null,[t("p",null,"款式："+i(s.product.title),1)]),t("li",null,[t("p",null,"分類: "+i(s.product.category),1)])])])])])])])],64)}const et=g(S,[["render",Y]]);export{et as default};
